---
id: upgrade-from_4.2
title: Upgrade from version 4.2
---

# Prerequisites

:::warning
Before attempting any Update, please make sure to create a snapshot or a backup
of your i-Vertix Central Virtual Machine.
:::

This guide applies to i-Vertix Central version 4.2, please also ensure 
that the Central has Internet access.

## Installing upgrade package

Start by logging in the system using ssh.
The user needs to be able to run commands with sudo.

The first operation is to check whether the upgrade package is already installed or not.

```
sudo dnf list ivertix-ansible-playbooks
```

If the package needs to be installed, it will be shown in the list "Available Packages"

![dnf list available](../assets/upgrade/upgrade-from_4.2/dnf_list_available.png)

otherwise, it will be shown as an "Installed Packages".

![dnf list installed](../assets/upgrade/upgrade-from_4.2/dnf_list_installed.png)


In the case the installation is needed, run

```
sudo dnf install ivertix-ansible-playbooks
```

![dnf install](../assets/upgrade/upgrade-from_4.2/dnf_install.png)


## Launching first upgrade step

After installing the upgrade package, run

```
sudo ansible-playbook /opt/i-vertix/scripts/ansible/upgrade-central-42-to-43-step1.yaml
```

![ansible first step](../assets/upgrade/upgrade-from_4.2/ansible_step_1.png)

to really start the upgrade. 
Since the scripts update the entire system and download many packages, 
the process may take up to 45 minutes or longer, depending on the speed of your Internet connection.



## WebUI Login and update

After the first system update, it is time for the WebUI.
Using a browser, visit the Central WebPage and follow the wizard clicking next.

![webui_1](../assets/upgrade/upgrade-from_4.2/webui_step1.png)
![webui_2](../assets/upgrade/upgrade-from_4.2/webui_step2.png)
![webui_3](../assets/upgrade/upgrade-from_4.2/webui_step3.png)
![webui_4](../assets/upgrade/upgrade-from_4.2/webui_step4.png)
![webui_5](../assets/upgrade/upgrade-from_4.2/webui_step5.png)


Then, enter the admin credentials and visit the `Administration > Extensions > Manager` page.

![administration extensions manager](../assets/upgrade/upgrade-from_4.2/administration_extensions_manager.png)

Click the `Update all` button to update.

![extensions update](../assets/upgrade/upgrade-from_4.2/update_extensions.png)


When all Extensions are updated, the page should become as follows:
![extensions update final](../assets/upgrade/upgrade-from_4.2/update_extensions_finish.png)


## Final update steps

Now it's time to get back to the cli and run the next update steps:

```
sudo ansible-playbook /opt/i-vertix/scripts/ansible/upgrade-central-42-to-43-step2.yaml
```

![ansible 2](../assets/upgrade/upgrade-from_4.2/ansible_step_2.png)


Then:

```
sudo ansible-playbook /opt/i-vertix/scripts/ansible/upgrade-central-42-to-43-step3.yaml
```

![ansible 3](../assets/upgrade/upgrade-from_4.2/ansible_step_3.png)

and finally reboot the system.

```
sudo reboot
```

## Poller update

After the Central, we need to update the Pollers.
On the Central CLI, run:

```
sudo ansible-playbook /opt/i-vertix/scripts/ansible/upgrade-poller-42-to-43.yaml
```

to update all Pollers connected to the Central.
